@model SGCFVIEF.Entidad.TarifarioEntidad
@{
    ViewBag.Title = "Edicion";
}

<div id="content-header">
    <h1>Registrar Tarifa</h1>
</div>

<div class="container-fluid">
    <div class="row-fluid">
        <div class="span6 clear centrar6">
            <div class="widget-box">
                <div class="widget-title">
                    <span class="icon">
                        <i class="icon-align-justify"></i>
                    </span>
                    <h5>Información de Tarifa</h5>
                </div>
                <div class="widget-content nopadding">
                    <form class="form-horizontal formulario" method="post" action="#" name="basic_validate" id="basic_validate" novalidate="novalidate">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="Cod_Tarifa">Código:</label>
                                @Html.TextBoxFor(model => model.Cod_Tarifa, null, new { @class = "form-control", @readonly = "true" })
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="Canal_Cod_Canal">Canal:</label>
                                @Html.DropDownListFor(model => model.Canal.Cod_Canal, new SelectList(ViewBag.ListaCanales, "Cod_Canal", "Canal"), "Todos", new { @class = "form-control chosen-select" })
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="Canal_Cod_Canal">SubCanal:</label>
                                @Html.DropDownListFor(model => model.SubCanal.Cod_SubCanal, new SelectList(ViewBag.ListSubCanales, "Cod_SubCanal", "SubCanal"), "Todos", new { @class = "form-control chosen-select" })
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="Producto_Cod_Producto">Producto:</label>
                                @Html.HiddenFor(model => model.Cod_Tarifa)
                                @Html.DropDownListFor(model => model.Producto.Cod_Producto, new SelectList(ViewBag.ListaProductos, "Cod_Producto", "Producto"), "Todos", new { @class = "form-control chosen-select" })
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="Provincia_Cod_Provincia">Sub-Producto:</label>
                                @Html.DropDownListFor(model => model.SubProducto.Cod_SubProducto, new SelectList(ViewBag.ListaSubProductos, "Cod_SubProducto", "SubProducto"), "Todos", new { @class = "form-control chosen-select" })
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="Tipo_Tarifa">Tipo Tarifa:</label>
                                @Html.DropDownListFor(model => model.Tipo, new List<SelectListItem> { new SelectListItem { Text = "Monto (S/.)", Value = "2" }, new SelectListItem { Text = "Porcentaje (%)", Value = "1" } }, null, new { @class = "form-control chosen-select" })
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="Tarifa_Inicio">Rango Linea Inicio:</label>
                                @Html.TextBoxFor(model => model.Tarifa_Inicio, null, new { @class = "form-control", @autocomplete = "off", @maxlength = "9" })
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="Tarifa_Fin">Rango Linea Fin:</label>
                                @Html.TextBoxFor(model => model.Tarifa_Fin, null, new { @class = "form-control", @autocomplete = "off", @maxlength = "9" })
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="Tarifa">Tarifa:</label>
                                @Html.TextBoxFor(model => model.Tarifario, null, new { @class = "form-control", @autocomplete = "off", @maxlength = "7" })
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="Nom_Usuario">Usuario:</label>
                                @Html.TextBox("Nom_Usuario", @SessionManager.Usuario.Nom_Usuario, new { @class = "form-control", @readonly = "true" })
                            </div>
                        </div>
                        <div class="col-md-8">
                            <div class="form-group">
                                <label for="Nom_Usuario">Fecha Registro:</label>
                                @Html.TextBoxFor(model => model.Fecha_Registro, null, new { @class = "form-control", @readonly = "true" })
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="TipoComision">Tipo Comisión:</label>
                                @Html.DropDownListFor(model => model.TipoComision, new List<SelectListItem> { new SelectListItem { Text = "FFVV Externo", Value = "1" }, new SelectListItem { Text = "FFVV Interno", Value = "2" }, new SelectListItem { Text = "Otros", Value = "3" } }, "Todos", new { @class = "form-control chosen-select" })
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="Nom_Usuario">Usuario Anterior:</label>
                                @Html.TextBoxFor(model => model.Usuario.Nom_Usuario, null, new { @class = "form-control", @readonly = "true" })
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="Nom_Usuario">Tarifa anterior:</label>
                                @Html.TextBoxFor(model => model.Tarifario, null, new { @class = "form-control", @readonly = "true" })
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="Nom_Usuario">Fecha Ultimo Cambio:</label>
                                @Html.TextBoxFor(model => model.Fecha_Ultimo, null, new { @class = "form-control", @readonly = "true" })
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="Estado">Estado:</label>
                                @Html.DropDownListFor(model => model.Estado, new List<SelectListItem> { new SelectListItem { Text = "Vigencia", Value = "V" }, new SelectListItem { Text = "Baja", Value = "B" } }, "Todos", new { @class = "form-control chosen-select" })
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="alert alert-danger text-left" id="Message-Error">
                                <strong></strong>
                            </div>
                        </div>

                        <div class="col-md-12">
                            <div class="form-group">
                                <button type="button" class="btn btn-danger" id="btn-modificar">Grabar</button>
                                @Html.ActionLink("Cancelar", "Index", null, new { @class = "btn btn-warning" })
                            </div>
                        </div>
                        <div class="clear"></div>
                    </form>
                </div>

            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="MensajeGrabar">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Mensaje</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Esta seguro que desea modiifcar la tarifa.¿Desea Continuar?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="btn-actualizar">Si</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="ResultadoGrabacion">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Mensaje</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p id="Mensaje"></p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="ResultadoGrabacionErr">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Mensaje</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p id="Mensaje"></p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>

@Scripts.Render("~/bundles/mantenimiento-tarifa")
@Scripts.Render("~/bundles/script-layaout")

